EMU8086 GENERATED LISTING. MACHINE CODE <- SOURCE.
 
mycode.exe -- emu8086 assembler version: 4.08  
 
[ 22/09/2021  --  10:32:47 a. m. ] 
 
===================================================================================================
[LINE]     LOC: MACHINE CODE                          SOURCE
===================================================================================================
 
[   1]        :                                       ;-----------------------------------------------------
[   2]        :                                       ;Universidad Pedagogica y Tecnologica de Colombia UPTC
[   3]        :                                       ;Facultad Seccional Sogamoso
[   4]        :                                       ;Escuela de Ingenieria Electronica
[   5]        :                                       ;-----------------------------------------------------
[   6]        :                                       ;Microprocessor's Course
[   7]        :                                       ;Description: Using ports through IN/OUT instructions
[   8]        :                                       ;Author:      Wilson Javier Perez Holguin
[   9]        :                                       ;Date:        17-09-2021
[  10]        :                                       ;-----------------------------------------------------
[  11]        :                                       .MODEL SMALL
[  12]        :                                       
[  13]        :                                       .DATA
[  14]    0000: 00 00 00 00 00 00 00 00 00 00 00 00   		DATO_LEIDO 		DB 	1000 DUP (?)
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00                         
[  15]        :                                       		
[  16]    03E8: 00 07                                 		PTO_SALIDA		DW	0700H
[  17]        :                                       		
[  18]    03EA: 10 07                                 		PTO_ENTRADA		DW	0710H
[  19]        :                                       		
[  20]    03EC: 20 07                                 		PPI_PTOA        DW  0720H
[  21]    03EE: 22 07                                 		PPI_PTOB        DW  0722H
[  22]    03F0: 24 07                                 		PPI_PTOC        DW  0724H
[  23]    03F2: 26 07                                 		PPI_CTRL        DW  0726H
[  24]        :                                       		
[  25]    03F4: 30 07                                 		TPI_CNT0        DW  0730H
[  26]    03F6: 32 07                                 		TPI_CNT1        DW  0732H
[  27]    03F8: 34 07                                 		TPI_CNT2        DW  0734H
[  28]    03FA: 36 07                                 		TPI_CTRL        DW  0736H
[  29]        :                                       		
[  30]    03FC: 00                                    		CNT             DB  0	
[  31]        :                                       
[  32]        :                                       
[  33]        :                                       .STACK
[  34]    0500: 00 00 00 00 00 00 00 00 00 00 00 00   DB      64 DUP (?)
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00                         
[  35]        :                                       
[  36]        :                                       
[  37]        :                                       .CODE
[  38]        :                                       	
[  39]    0540:                                       MAIN	PROC NEAR
[  40]        :                                       
[  41]    0540:                                       START:
[  42]    0540: B8 00 00                              		MOV     AX,@DATA
[  43]    0543: 8E D8                                 		MOV     DS,AX
[  44]        :                                       		
[  45]        :                                       	    ;CONFIGURACION DE LA PPI
[  46]    0545: B0 81                                 		MOV     AL,81H			; PALABRA DE CONFIGURACIÓN DE LA PPI
[  47]    0547: 8B 16 F2 03                           		MOV     DX,PPI_CTRL
[  48]    054B: EE                                    		OUT     DX,AL
[  49]        :                                       
[  50]        :                                       
[  51]    054C: BF 00 00                              		MOV 	DI,0
[  52]        :                                       ;		MOV		CX,5000
[  53]    054F:                                       CICLO:
[  54]        :                                       
[  55]    054F: 8B 16 EA 03                           		MOV     DX,PTO_ENTRADA  ; DX = DIRECCION DEL PUERTO
[  56]    0553: EC                                    		IN	    AL,DX           ; AL = DATO LEIDO DEL PUERTO
[  57]        :                                       		
[  58]    0554: 88 05                                 		MOV	    DATO_LEIDO[DI],AL
[  59]    0556: 47                                    		INC		DI
[  60]    0557: 81 FF E8 03                           		CMP		DI, 1000
[  61]    055B: 75 03                                 		JNE		SEGUIR
[  62]    055D: BF 00 00                              		MOV		DI,0
[  63]        :                                       		
[  64]    0560:                                       SEGUIR:		
[  65]    0560: 8B 16 E8 03                           		MOV     DX,PTO_SALIDA	
[  66]    0564: EE                                    		OUT	    DX,AL
[  67]        :                                       		
[  68]        :                                       		;SACANDO CONTEO POR PTOB DE LA PPI
[  69]    0565: 8B 16 EE 03                           		MOV     DX,PPI_PTOB
[  70]    0569: A0 FC 03                              		MOV     AL,CNT
[  71]    056C: EE                                    		OUT     DX,AL
[  72]    056D: FE 06 FC 03                           		INC     CNT
[  73]        :                                       		
[  74]    0571: E8 03 00                              		CALL    DELAY
[  75]        :                                       
[  76]    0574: EB D9                                 		JMP		CICLO
[  77]        :                                       ;		LOOP    CICLO
[  78]        :                                       		
[  79]    0576: C3                                    		RET
[  80]        :                                       MAIN	ENDP		
[  81]        :                                       		
[  82]    0577:                                       DELAY	PROC    NEAR USES CX
[  83]    0577: B9 FF FF                              		MOV		CX,65535
[  84]    057A: E2 FE                                 L1:		LOOP 	L1
[  85]    057C: C3                                    		RET
[  86]        :                                       DELAY 	ENDP
[  87]        :                                       
 
===================================================================================================
 
EXE HEADER - bytes from 0000 to 01FF inclusive.

0000: 4D      -   exe signature (M)
0001: 5A      -   exe signature (Z)
0002: 7D      -   bytes on last page (l.byte)
0003: 01      -   bytes on last page (h.byte)
0004: 04      -   512 byte pages in file (l.byte)
0005: 00      -   512 byte pages in file (h.byte)
0006: 01      -   relocations (l.byte)
0007: 00      -   relocations (h.byte)
0008: 20      -   paragraphs in header (l.byte)
0009: 00      -   paragraphs in header (h.byte)
000A: 00      -   minimum memory (l.byte)
000B: 00      -   minimum memory (h.byte)
000C: FF      -   maximum memory (l.byte)
000D: FF      -   maximum memory (h.byte)
000E: 40      -   SS - stack segment (l.byte)
000F: 00      -   SS - stack segment (h.byte)
0010: 00      -   SP - stack pointer (l.byte)
0011: 01      -   SP - stack pointer (h.byte)
0012: 09      -   check sum (l.byte)
0013: D1      -   check sum (h.byte)
0014: 00      -   IP - instruction pointer (l.byte)
0015: 00      -   IP - instruction pointer (h.byte)
0016: 54      -   CS - code segment (l.byte)
0017: 00      -   CS - code segment (h.byte)
0018: 1E      -   relocation table adress (l.byte)
0019: 00      -   relocation table adress (h.byte)
001A: 00      -   overlay number (l.byte)
001B: 00      -   overlay number (h.byte)
001C: 01      -   signature (l.byte)
001D: 00      -   signature (h.byte)
001E: 01      -   relocation table - offset inside segment (l.byte)
001F: 00      -   relocation table - offset inside segment (h.byte)
0020: 54      -   relocation table - segment anchor (l.byte)
0021: 00      -   relocation table - segment anchor (h.byte)
0022 to 01FF  -   reserved relocation area  (00) 




===================================================================================================
